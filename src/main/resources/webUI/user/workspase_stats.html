<!DOCTYPE html>
<html>

<head>
    <title>Статистика</title>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">


    <link rel="stylesheet" href="../resource/css/uikit.min.css" />
    <link rel="stylesheet" href="../resource/css/maine.css" />
    <script src="../resource/js/uikit.min.js"></script>
    <script src="../resource/js/uikit-icons.min.js"></script>
    <script src="../resource/js/Chart.min.js"></script>


    <link rel="shortcut icon" href="../resource/ico/favicon.png" type="image/png">

</head>

<body class="container unselectable">

    <div uk-sticky="" class="uk-sticky uk-sticky-fixed" style="height: 50px; position: fixed; ">

        <nav style="height: 50px; " class="uk-navbar uk-navbar-container uk-margin uk-box-shadow-medium ">

            <div class="uk-navbar-left ">

                <div class="uk-padding-small paging-mini uk-text-primary">
                    <span uk-icon="icon: thumbnails; ratio: 2" class="uk-icon"></span>
                    <span class="uk-text-middle uk-text-large uk-margin-small-left">CheckUPer</span>
                </div>
            </div>

            <div class="uk-navbar-right ">

                <div class="uk-navbar-item paging-mini">
                    <a class="uk-icon-button uk-icon" href="/user/setting" uk-icon="icon: cog; ratio: 1.5"></a>
                </div>

                <div class="uk-navbar-item paging-mini">
                    <span id="UserName" class="uk-text-middle">[[${#httpServletRequest.remoteUser}]]</span>
                </div>

                <div id="UserPhoto" class="uk-navbar-item paging-mini">
                    <span uk-icon="icon: user; ratio: 2" class="uk-icon"></span>
                </div>

                <div class="uk-navbar-item paging-mini">
                    <a class="uk-icon-button uk-icon" href="/logout" uk-icon="icon: sign-out; ratio: 1.5"></a>
                </div>

            </div>

        </nav>

    </div>

    <div class="uk-container uk-container-expand contpadding pad0">

        <div>
            <div class="uk-width-auto@m uk-background-muted menu">
                <div>
                    <ul class="uk-nav uk-nav-default">
                        <li class="uk-active"><a href="/user/stats">Статистика</a></li>
                        <li class=""><a href="/requests/my">Мои заявки</a></li>
                        <li class=""><a href="/requests/available">Взять в работу</a></li>
                        <li class=""><a href="/requests/progress">У меня в работе</a></li>
                    </ul>
                </div>
            </div>

            <div class="contentbox">
                <div id="box" class="uk-container uk-width-expand@m pad20 contpadding">
                    <div class="uk-card uk-card-default uk-card-small uk-width-xlarge uk-align-center" style="
                             padding-right: 10px;
                             padding-left: 10px;
                             padding-top: 10px;
                             padding-bottom: 10px;">

                        <span class="uk-label" style="margin-bottom: 10px;">Статистика</span>
                        <div class="uk-grid-small uk-grid" uk-grid="">
                            <div class="uk-width-expand uk-leader uk-first-column" uk-leader=""><span
                                    class="uk-leader-fill">Количество выполненных заявок</span></div>
                            <div name="val_1">301 шт.</div>
                        </div>
                        <div class="uk-grid-small uk-grid" uk-grid="">
                            <div class="uk-width-expand uk-leader uk-first-column" uk-leader=""><span
                                    class="uk-leader-fill">Подано заявок</span></div>
                            <div name="val_2">423 шт.</div>
                        </div>
                        <div class="uk-grid-small uk-grid" uk-grid="">
                            <div class="uk-width-expand uk-leader uk-first-column" uk-leader=""><span
                                    class="uk-leader-fill">Количество доступных заявок для выполнения</span></div>
                            <div name="val_3">72 шт.</div>
                        </div>
                        <div class="uk-grid-small uk-grid" uk-grid="">
                            <div class="uk-width-expand uk-leader uk-first-column" uk-leader=""><span
                                    class="uk-leader-fill">Количество заявок в работе</span></div>
                            <div name="val_4">50 шт.</div>
                        </div>
                        <div class="uk-grid-small uk-grid" uk-grid="">
                            <div class="uk-width-expand uk-leader uk-first-column" uk-leader=""><span
                                    class="uk-leader-fill">Количество моих заявок в работе у исполнителей</span></div>
                            <div name="val_5">1 шт.</div>
                        </div>

                    </div>


                    <div class="uk-card uk-card-default uk-card-body uk-card-small uk-width-4-5 uk-align-center uk-box-shadow-small "
                        style=" height: 200px;">

                        <span class="uk-label" style="margin-bottom: 10px;">Моя статистика по заявкам</span>

                        <div style=" width:100%; height:90%; ">
                            <canvas id="myChart" style=" width:100%; height:100%; "></canvas>
                        </div>
                        <script>

                            var ctx = document.getElementById('myChart').getContext('2d');
                            var chart = new Chart(ctx, {
                                type: 'line',
                                data: {
                                    labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],
                                    datasets: [{
                                        label: "Подано заявок мной",
                                        backgroundColor: 'rgba(66, 133, 244,0.5)',
                                        borderWidth: 1,
                                        borderColor: 'rgba(66, 133, 244,1)',
                                        data: [1, 0, 5, 0, 3, 2, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                    }, {
                                        label: "Выполнено заявок мной",
                                        backgroundColor: 'rgba(102,204,102,0.7)',
                                        borderWidth: 1,
                                        borderColor: 'rgba(66, 133, 244,1)',
                                        data: [1, 2, 1, 3, 2, 5, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                    }, {
                                        label: "Выполнено моих заявок",
                                        backgroundColor: 'rgba(255,255,102,0.7)',
                                        borderWidth: 1,
                                        borderColor: 'rgba(66, 133, 244,1)',
                                        data: [1, 1, 2, 5, 1, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                    }]
                                },

                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    legend: {
                                        display: true
                                    },
                                }
                            });
                    // function resizeCanvas()
                    // {
                    // chart.resize();
                    //};
                    //window.addEventListener('resize', resizeCanvas, false);

                        </script>
                    </div>


                    <div class="uk-card uk-card-default uk-card-body uk-card-small uk-width-4-5 uk-align-center uk-box-shadow-small "
                        style=" height: 200px;">

                        <span class="uk-label" style="margin-bottom: 10px;">Глобальная статистика по заявкам</span>

                        <div style=" width:100%; height:90%; ">
                            <canvas id="myChart1" style=" width:100%; height:100%; "></canvas>
                        </div>
                        <script>

                            var ctx = document.getElementById('myChart1').getContext('2d');
                            var chart = new Chart(ctx, {
                                type: 'line',
                                data: {
                                    labels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28],
                                    datasets: [{
                                        label: "Всего подано заявок",
                                        backgroundColor: 'rgba(66, 133, 244,0.5)',
                                        borderWidth: 1,
                                        borderColor: 'rgba(66, 133, 244,1)',
                                        data: [10, 15, 25, 13, 14, 28, 11, 17, 24, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                    }, {
                                        label: "Всего выполненно заявок",
                                        backgroundColor: 'rgba(102,204,102,0.7)',
                                        borderWidth: 1,
                                        borderColor: 'rgba(66, 133, 244,1)',
                                        data: [5, 10, 30, 35, 45, 20, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                                    }]
                                },

                                options: {
                                    responsive: true,
                                    maintainAspectRatio: false,
                                    legend: {
                                        display: true
                                    },
                                }
                            });
                    // function resizeCanvas()
                    // {
                    // chart.resize();
                    //};
                    //window.addEventListener('resize', resizeCanvas, false);

                        </script>
                    </div>
                </div>
            </div>
        </div>

    </div>

</body>

</html>